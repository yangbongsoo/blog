# Network Programming


## 동기 / 비동기 , 블로킹 / 논블로킹
출처 : https://www.youtube.com/watch?v=HKlUvCv9hvA

**동기(synchronous)** : syn 은 함께 라는 뜻. chrono 는 시간 이라는 뜻. 즉 함께 시간을 맞춘다.
**비동기(asynchronous)** : 시간을 맞추지 않는다 는 뜻

그러므로 동기 비동기에 대한 이야기를 할 때는 반드시 두 가지 이상을 언급해야한다.
무엇과 무엇이? 그리고 시간 개념이 있어야 한다. 어떤 시간을 맞춘다(동기) 안맞춘다(비동기).

동기라는 것은 예를 들어서 A, B 가 함께 간다고 할 때,
두 가지가 동시에 시작하거나 동시에 종료하거나 동시에 같이 진행을 하면 동기다.

동기 예1) A, B 스레드가 동시에 작업을 시작하게 하는 CyclicBarrier

동기 예2) 메서드 리턴 시간(A)과 결과를 전달받는 시간(B)가 일치하면 동기

동기 예3) A가 작업을 시작하고 끝나면 끝나는 시간에 맞춰서 B가 시작하는 개념 (Synchronized 블록, BlockingQueue)


**블록킹, 논블로킹**

동기, 비동기와는 관점이 다르다. 동기, 비동기에서 항상 블로킹, 논블로킹을 얘기할 수 있는게 아니다.
같이 언급할 수 있는 경우는 `내가 직접 제어할 수 없는 대상을 어떻게 상대할 것이냐 이 부분을 설명할 때` 이다.
이때는 블로킹과 논블로킹 얘기를 같이 해도 된다. 그래서 대상이 제한적이다.


아래의 코드를 동기/비동기 , 블로킹/논블로킹 관점에서 설명해보면 다음과 같다.

```java
ExecutorService es = Executors.newCachedThreadPool();

String res = es.submit(() -> "Hello Async").get();
```

`es.submit()` 메서드는 비동기다. 메서드 리턴 시간과 Callable의 실행 결과를 받는 시간이 일치하지 않는다.
블로킹, 논블로킹은 고려할 대상이 아니다(억지로 하려면 할 수 있겠지만). 이거는 뭔가를 기다릴 대상이 없다.
그러므로 단순히 비동기 메서드 호출이다.

`.get()` 메서드는 비동기에 대한 결과를 동기로 가져온다(결과가 나올때까지 기다림).
메서드 리턴시간과 결과를 가져오는 시간이 일치한다. 즉, get 메서드는 동기다.
그리고 내가 비동기적으로 실행시킨 제3의 스레드에서 결과를 만들어서 값을 리턴할 때까지 블록상태에 있다(대기 상태에 들어감).
그러므로 블로킹이다.





